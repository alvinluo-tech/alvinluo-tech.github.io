import{s as r}from"./navBarConfig.CSIOJtca.js";const d="light",L="dark",m="system",I=d,p="banner",f="overlay",y="none",D=35,W=30,P=D+W;function g(){if(typeof document>"u")return Number.parseInt("250");const t=document.getElementById("config-carrier");return Number.parseInt(t?.dataset.hue||"250")}function w(){return r.themeColor.defaultMode??I}function B(){return typeof window>"u"?d:window.matchMedia("(prefers-color-scheme: dark)").matches?L:d}function q(e){return e===m?B():e}function O(){if(typeof localStorage>"u")return g();const e=localStorage.getItem("hue");return e?Number.parseInt(e):g()}function R(e){if(typeof localStorage>"u"||typeof document>"u")return;localStorage.setItem("hue",String(e));const t=document.querySelector(":root");t&&t.style.setProperty("--hue",String(e))}function H(e){if(typeof document>"u")return;const t=q(e),n=document.documentElement.classList.contains("dark"),s=document.documentElement.getAttribute("data-theme");let a=!1;switch(t){case d:a=!1;break;case L:a=!0;break;default:a=n;break}const o=n!==a,c=s!==(a?"github-dark":"github-light");!o&&!c||(o&&document.documentElement.classList.add("is-theme-transitioning"),requestAnimationFrame(()=>{o&&(a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"));const A=a?"github-dark":"github-light";document.documentElement.setAttribute("data-theme",A),c&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("theme-change"))},0),o&&requestAnimationFrame(()=>{document.documentElement.classList.remove("is-theme-transitioning")})}))}let l=null;function F(e){typeof localStorage>"u"||(H(e),localStorage.setItem("theme",e),e===m?E():v())}function E(){if(v(),typeof window>"u")return;const e=window.matchMedia("(prefers-color-scheme: dark)"),t=n=>{const s=n.matches;document.documentElement.classList.add("is-theme-transitioning"),s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const a=s?"github-dark":"github-light";document.documentElement.setAttribute("data-theme",a),requestAnimationFrame(()=>{document.documentElement.classList.remove("is-theme-transitioning")}),window.dispatchEvent(new CustomEvent("theme-change"))};t(e),e.addEventListener?e.addEventListener("change",t):e.addListener(t),l=t}function v(){if(typeof window>"u"||!l)return;const e=window.matchMedia("(prefers-color-scheme: dark)");e.removeEventListener?e.removeEventListener("change",l):e.removeListener(l),l=null}function C(){return typeof localStorage>"u"?w():localStorage.getItem("theme")||w()}function G(){if(typeof localStorage>"u")return;C()===m&&E()}function k(e){if(!(r.backgroundWallpaper.switchable??!0))return;if((document.documentElement.getAttribute("data-wallpaper-mode")||r.backgroundWallpaper.mode)===e){N(e);return}document.documentElement.classList.add("is-wallpaper-transitioning"),document.documentElement.setAttribute("data-wallpaper-mode",e),requestAnimationFrame(()=>{const s=document.body;switch(s.classList.remove("enable-banner","wallpaper-transparent"),e){case p:s.classList.add("enable-banner"),S();break;case f:s.classList.add("wallpaper-transparent"),T();break;case y:u();break;default:u();break}M(e),requestAnimationFrame(()=>{document.documentElement.classList.remove("is-wallpaper-transitioning")})})}function N(e){const t=document.body;switch(t.classList.remove("enable-banner","wallpaper-transparent"),e){case p:t.classList.add("enable-banner"),S();break;case f:t.classList.add("wallpaper-transparent"),T();break;case y:u();break}M(e)}function S(){const e=document.querySelector("[data-fullscreen-wallpaper]");e&&(e.style.display="none",e.classList.add("hidden"),e.classList.add("opacity-0"),e.classList.remove("opacity-100"));const t=document.getElementById("banner-wrapper");t&&(t.style.display="block",t.style.setProperty("display","block","important"),requestAnimationFrame(()=>{t.classList.remove("hidden"),t.classList.remove("opacity-0"),t.classList.add("opacity-100")}));const n=document.getElementById("banner-credit-desktop"),s=document.getElementById("banner-credit-mobile");n&&(n.style.display=""),s&&(s.style.display="");const a=document.querySelector(".banner-text-overlay");if(a){const i=r.backgroundWallpaper.banner?.homeText?.enable,c=window.location.pathname==="/"||window.location.pathname==="";i&&c?a.classList.remove("hidden"):a.classList.add("hidden")}b("banner"),h(!1);const o=document.getElementById("navbar");if(o){const i=r.backgroundWallpaper.banner?.navbar?.transparentMode||"semi";o.setAttribute("data-transparent-mode",i),i==="semifull"&&typeof window.initSemifullScrollDetection=="function"&&window.initSemifullScrollDetection()}}function T(){const e=document.querySelector("[data-fullscreen-wallpaper]");e&&(e.style.display="block",e.style.setProperty("display","block","important"),requestAnimationFrame(()=>{e.classList.remove("hidden"),e.classList.remove("opacity-0"),e.classList.add("opacity-100")}));const t=document.getElementById("banner-wrapper");t&&(t.style.display="none",t.classList.add("hidden"),t.classList.add("opacity-0"),t.classList.remove("opacity-100"));const n=document.getElementById("banner-credit-desktop"),s=document.getElementById("banner-credit-mobile");n&&(n.style.display="none"),s&&(s.style.display="none");const a=document.querySelector(".banner-text-overlay");a&&a.classList.add("hidden"),h(!0),b("overlay")}function u(){const e=document.getElementById("banner-wrapper"),t=document.querySelector("[data-fullscreen-wallpaper]");e&&(e.style.display="none",e.classList.add("hidden"),e.classList.add("opacity-0")),t&&(t.style.display="none",t.classList.add("hidden"),t.classList.add("opacity-0"),t.classList.remove("opacity-100"));const n=document.getElementById("banner-credit-desktop"),s=document.getElementById("banner-credit-mobile");n&&(n.style.display="none"),s&&(s.style.display="none");const a=document.querySelector(".banner-text-overlay");a&&a.classList.add("hidden"),b("none"),h(!1)}function M(e){const t=document.getElementById("navbar");if(!t)return;let n;e===f?n="semi":e===y?n="none":n=r.backgroundWallpaper.banner?.navbar?.transparentMode||"semi",t.setAttribute("data-transparent-mode",n),t.classList.remove("navbar-transparent-semi","navbar-transparent-full","navbar-transparent-semifull"),t.classList.remove("scrolled"),n==="semifull"&&e===p&&typeof window.initSemifullScrollDetection=="function"?window.initSemifullScrollDetection():window.semifullScrollHandler&&(window.removeEventListener("scroll",window.semifullScrollHandler),delete window.semifullScrollHandler)}function b(e){const t=document.querySelector(".absolute.w-full.z-30");if(t)switch(t.classList.remove("mobile-main-no-banner","no-banner-layout"),e){case"banner":t.style.top="calc(var(--banner-height) - 3rem)";break;case"overlay":t.classList.add("no-banner-layout"),t.style.top="5.5rem";break;case"none":t.classList.add("no-banner-layout"),t.style.top="5.5rem";break;default:t.style.top="5.5rem";break}}function h(e){const t=document.querySelector(".absolute.w-full.z-30"),n=document.body;!t||!n||(e?(t.classList.add("wallpaper-transparent"),n.classList.add("wallpaper-transparent")):(t.classList.remove("wallpaper-transparent"),n.classList.remove("wallpaper-transparent")))}function j(e){typeof localStorage>"u"||(localStorage.setItem("wallpaperMode",e),k(e))}function z(){const e=x();k(e)}function x(){return typeof localStorage>"u"?r.backgroundWallpaper.mode:localStorage.getItem("wallpaperMode")||r.backgroundWallpaper.mode}export{W as B,L as D,d as L,m as S,p as W,f as a,y as b,F as c,C as d,H as e,O as f,x as g,g as h,R as i,z as j,G as k,D as l,P as m,j as s};
